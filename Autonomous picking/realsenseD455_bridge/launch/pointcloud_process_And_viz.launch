<launch>
    <include file="$(find pickingv2)/launch/cam_to_right.launch"/>
    <include file="$(find pickingv2)/launch/RealsenseD455_to_right.launch"/>
    <include file="$(find realsense2_camera)/launch/rs_rgbd.launch"/>
    
    <!-- realsense description begin ++++++++++++++++++++++++++++++++++++++++++++ -->
    <param name="realsensen_description" command="$(find xacro)/xacro --inorder '$(find realsense2_description)/urdf/test_d455_camera.urdf.xacro' use_nominal_extrinsics:=true" />
    <node name="realsensen_robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher" respawn="true"
      output="screen">
      <remap from="robot_description" to="realsensen_description" />
    </node>
    <!-- realsense description end ++++++++++++++++++++++++++++++++++++++++++++ -->
    
    <!-- 机械臂 begin ++++++++++++++++++++++++++++++++++++++++++++ -->
    <param name="robot_description" command="$(find xacro)/xacro --inorder $(find pickingv2)/urdf/jaka_dual.xacro"/>
    <node name="rviz" pkg="rviz" type="rviz" args="-d /home/msi/1008_catkin_ws/src/realsenseD455_bridge/rviz/test_dual_p.rviz" required="true"
          output="screen"/>
  
    <node pkg="qjaka_gui" type="qjaka_gui" name="qjaka_gui" output="screen" respawn="false" respawn_delay="0.5">
        <param name="left_ip" value="192.168.0.132"/>
        <param name="right_ip" value="192.168.0.130"/>
    </node>
    <node name="joint_state_publisher" pkg="joint_state_publisher" type="joint_state_publisher">
        <rosparam param="source_list">[/jaka_joint_states, /fake_jaka_joint_states]</rosparam>
    </node>

    <node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher" respawn="true"
          output="screen"/>
    <!-- 机械臂 end ++++++++++++++++++++++++++++++++++++++++++++ -->
   

	<node pkg="realsenseD455_bridge" type="receive_pointcloud.py" name="realsenseD455_bridge_processPC" />

    <node pkg="detection" type="exec_cv.py" name="exec_cv"/>
</launch>
